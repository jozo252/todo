{% extends "base.html" %}


{% block content %}

<div class="content-container flex-grow pt-20 pb-10">
    <div class="max-w-3xl mx-auto px-4 sm:px-6 lg:px-8">
        <h1 class="text-3xl font-bold mb-6 text-center">Your To-Do List</h1>

        <!-- Task List -->
        <ul class="space-y-4 mb-6">
            {% for task in tasks %}
            <li class="flex items-center justify-between bg-white p-4 rounded-lg shadow">
                <span class="flex-grow {{ 'line-through text-gray-400' if task.completed else '' }}">{{ task.description }}</span>
                <div class="flex space-x-2">
                    {% if not task.completed %}
                    <form method="POST" action="">
                        <button type="submit"
                            class="px-3 py-1 bg-green-500 text-white rounded hover:bg-green-600 transition-all duration-200">Complete</button>
                    </form>
                    {% endif %}
                    <form method="POST" action="">
                        <button type="submit"
                            class="px-3 py-1 bg-red-500 text-white rounded hover:bg-red-600 transition-all duration-200">Delete</button>
                    </form>
                </div>
            </li>
            {% endfor %}
        <!-- To-Do Form -->
        <form method="POST" action="{{url_for('todo_bp.add_task')}}" class="mb-6">
            <div class="flex">
                <input type="text" name="task" placeholder="Add a new task..." required
                    class="flex-grow px-4 py-2 rounded-l-md border border-gray-300 focus:outline-none focus:ring-2 focus:ring-accent-500 focus:border-transparent">
                <button type="submit"
                    class="px-4 py-2 bg-accent-500 text-white rounded-r-md hover:bg-accent-600 transition-all duration-200">Add</button>
            </div>
        </form>

{% endblock %}